

### ðŸ¦´ èŽ·å–æ‰€æœ‰åŸŸå

å¥½å§ - çŽ°åœ¨äº‹æƒ…è‚¯å®šæ­£åœ¨æˆå½¢ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…æ¥è®©æˆ‘ä»¬çš„åˆçº¦å˜å¾—æ›´å¥½å¹¶ä¸ºæˆ‘ä»¬çš„å‰ç«¯ä¼˜åŒ–å®ƒï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ªè¶…çº§ç®€å•çš„æ–¹æ³•æ¥èŽ·å–æ‰€æœ‰é“¸é€ çš„åŸŸåâ€”â€”ä¹Ÿè®¸æˆ‘ä»¬æƒ³å±•ç¤ºæ‰€æœ‰å·²ç»é“¸é€ çš„å²è¯—åŸŸå ï¼ï¼

æœ€é…·çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä»Žæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ä¸­è¿”å›žè¿™äº›æ•°æ®ï¼ æœ€å¥½çš„éƒ¨åˆ† - åœ¨åŒºå—é“¾ä¸Šè¯»å–äº¤æ˜“æ˜¯å…è´¹çš„ðŸ¤‘ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒæ”¯ä»˜gasè´¹ï¼

çœ‹çœ‹è¿™ä¸ªé€»è¾‘ï¼Œçœ‹çœ‹æˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼š
```solidity
// Add this at the top of your contract next to the other mappings
mapping (uint => string) public names;

// Add this anywhere in your contract body
function getAllNames() public view returns (string[] memory) {
  console.log("Getting all names from contract");
  string[] memory allNames = new string[](_tokenIds.current());
  for (uint i = 0; i < _tokenIds.current(); i++) {
    allNames[i] = names[i];
    console.log("Name for token %d is %s", i, allNames[i]);
  }

  return allNames;
}
```



å¾ˆç®€å•ï¼Œå¯¹å§ï¼Ÿ ä½ çŽ°åœ¨æ˜¯ä¸€å Solidity ä¸“å®¶ï¼Œæ‰€ä»¥è¿™å¯¹æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼

æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ˜ å°„æ¥å­˜å‚¨å¸¦æœ‰åŸŸåçš„ mint IDï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ª`view`å‡½æ•°æ¥éåŽ†æ‰€æœ‰è¿™äº›åç§°å¹¶å°†å®ƒä»¬æ”¾å…¥åˆ—è¡¨ä¸­ä»¥å‘é€ç»™æˆ‘ä»¬ã€‚ ä¸è¿‡å°‘äº†ä¸€ç‚¹ï¼ æˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®æ˜ å°„æ•°æ®ï¼

å°†å…¶æ·»åŠ åˆ° `register` å‡½æ•°çš„åº•éƒ¨ï¼Œå°±åœ¨ `_tokenIds.increment()` ä¹‹å‰ï¼š

```solidity
names[newRecordId] = name;
```



å°±åƒé‚£æ ·ï¼Œæ‚¨å¯ä»¥æ£€ç´¢åˆåŒä¸­åˆ›å»ºçš„æ‰€æœ‰åŸŸðŸ¤˜

### ðŸ’” æ£€æŸ¥åˆçº¦ä¸Šçš„åŸŸåæœ‰æ•ˆæ€§

ä½ å¯èƒ½æƒ³åˆ°çš„ä¸€ä»¶äº‹æ˜¯â€”â€”â€œRaza è¿™å¾ˆé…·ï¼Œä½†æ˜¯å¦‚æžœæœ‰äººè¯•å›¾åˆ›å»ºä¸€ä¸ª **çœŸçš„** é•¿çš„åŸŸä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ é‚£å¤ªè¹©è„šäº†ðŸ‘Žâ€

WELP - ä½ æ˜¯å¯¹çš„ï¼ é‚£å¤ªè¹©è„šäº†ã€‚ çŽ°åœ¨ï¼Œæˆ‘ä»¬æ­£åœ¨ React åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ JavaScript æ£€æŸ¥åŸŸæ˜¯å¦æœ‰æ•ˆã€‚ è¿™ä¸æ˜¯æœ€å¥½çš„ä¸»æ„ï¼Œå› ä¸ºæœ‰äººå¯ä»¥ç›´æŽ¥ä¸Žæˆ‘ä»¬çš„åˆçº¦äº¤äº’æ¥åˆ›å»ºä¸€ä¸ªæ— æ•ˆçš„åŸŸï¼

åœ¨æˆ‘ä»¬çš„åˆåŒä¸­è¿™æ ·åšå®žé™…ä¸Šæ›´æœ‰æ„ä¹‰ï¼š

```solidity
function valid(string calldata name) public pure returns(bool) {
  return StringUtils.strlen(name) >= 3 && StringUtils.strlen(name) <= 10;
}
```



å°±åƒæˆ‘ä»¬åœ¨ React åº”ç”¨ç¨‹åºä¸­æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨ 3-10 ä¸ªå­—ç¬¦ä¹‹é—´ï¼ˆè¿™æ˜¯ä¸ºäº†å¸®åŠ©ä¿æŒåŸŸåç®€çŸ­å’Œå¹²å‡€ï¼‰ã€‚ ä½ åº”è¯¥æŠŠå®ƒè®¾ç½®æˆä½ æƒ³è¦çš„ä»»ä½•ä¸œè¥¿ï¼ ä¹Ÿè®¸ä½ ä¸å–œæ¬¢å­—æ¯ Wï¼Ÿ å¯¹äºŽæ— æ•ˆçš„åç§°ï¼Œæ‚¨åªéœ€è¦è¿”å›žä¸€ä¸ª `false`ã€‚ å°è¯•æ·»åŠ æ‚¨èƒ½æƒ³åˆ°çš„æ‰€æœ‰å…¶ä»–ç±»åž‹çš„å— :)

### ðŸ¤¬ è‡ªå®šä¹‰é”™è¯¯

æœ€æ–°ç‰ˆæœ¬çš„ Solidity ä¸­æ·»åŠ çš„æœ€é…·çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯èƒ½å¤Ÿä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯ã€‚ è¿™äº›éžå¸¸æœ‰ç”¨ï¼Œå› ä¸ºæ‚¨ä¸éœ€è¦é‡å¤é”™è¯¯æ¶ˆæ¯å­—ç¬¦ä¸²ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨éƒ¨ç½²æ—¶èŠ‚çœ gasï¼ å› ä¸ºè°æ„¿æ„åœ¨æ±½æ²¹ä¸ŠèŠ±æ›´å¤šé’±ï¼Ÿ åˆ›å»ºå®ƒä»¬éžå¸¸ç®€å•ï¼š

```solidity
error Unauthorized();
error AlreadyRegistered();
error InvalidName(string name);
```



ä½ å¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨ä»»ä½•åœ°æ–¹ï¼ ä½¿ç”¨å®ƒä»¬ï¼š


```solidity
function setRecord(string calldata name, string calldata record) public {
  if (msg.sender != domains[name]) revert Unauthorized();
  records[name] = record;
}

function register(string calldata name) public payable {
  if (domains[name] != address(0)) revert AlreadyRegistered();
  if (!valid(name)) revert InvalidName(name);
  // Rest of register function remains unchanged
}
```



å°±æ˜¯è¿™æ ·ï¼ å¦‚æžœä½ éƒ¨ç½²è¿™ä¸ªåˆçº¦ï¼Œä½ ä¼šæ¯”ä»¥å‰åšæ›´å¤šçš„äº‹æƒ…ã€‚ ä¸è¦å¿˜è®°å¤åˆ¶å¹¶ç²˜è´´æ‚¨çš„æ–°åˆçº¦åœ°å€å’Œåˆçº¦ ABI
åˆ°ä½ çš„ React åº”ç”¨ç¨‹åºï¼

çœ‹çœ‹ä½ ï¼Œçœgasã€é«˜æ•ˆï¼Œå¹¶åœ¨åŒºå—é“¾ä¸Šæ£€æŸ¥åŸŸæœ‰æ•ˆæ€§ã€‚ ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ ä½ è¦**å‡çº§**ä½ çš„æ™ºèƒ½åˆçº¦å—ï¼Ÿ å“ˆå“ˆ

### ðŸš¨è¿›åº¦æŠ¥å‘Š

åœ¨ `#progress` ä¸­å‘å¸ƒæ‚¨å‡ºè‰²çš„ã€çœgasçš„ã€é”™è¯¯å¤„ç†æ™ºèƒ½åˆçº¦çš„å±å¹•æˆªå›¾ï¼