### ğŸ“Â ç¼–å†™æˆ‘ä»¬çš„å¯åŠ¨å™¨æ™ºèƒ½åˆçº¦

é€‰æ‹©æ‚¨æœ€å–œæ¬¢çš„ä»£ç ç¼–è¾‘å™¨å¹¶æ‰“å¼€æ‚¨è®¾ç½®Hardhaté¡¹ç›®çš„ç›®å½•!è®©æˆ‘ä»¬å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦å§ã€‚

æˆ‘ä»¬å¸Œæœ›åˆ é™¤Hardhatä¸ºæˆ‘ä»¬ç”Ÿæˆçš„æ‰€æœ‰çš„åˆå§‹ä»£ç ã€‚æˆ‘ä»¬è¦è‡ªå·±å†™è¿™äº›ä¸œè¥¿ï¼æ‰€ä»¥è¯·åˆ é™¤ `test`ä¸‹çš„'`Lock.js` æ–‡ä»¶ã€‚åŒæ—¶ï¼Œåˆ é™¤`scripts`ä¸‹çš„ `deploy.js` ã€‚ç„¶ååˆ é™¤â€œ `contracts`çš„ `Lock.sol` ã€‚**ä¸è¦åˆ é™¤å®é™…çš„æ–‡ä»¶å¤¹!**

ç°åœ¨ï¼Œæˆ‘ä»¬å¼€å§‹å†™éåŠŸèƒ½æ€§æ™ºèƒ½åˆçº¦å§ã€‚å¦‚æœä½ ä»æœªå†™è¿‡æ™ºèƒ½åˆçº¦ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒã€‚**è·Ÿç€æˆ‘èµ°å°±è¡Œäº†ã€‚ä½ ä¸æ‡‚çš„ä¸œè¥¿ã€‚åœ¨Discordä¸­æé—®ã€‚**

åœ¨`contracts` ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º `MyEpicGame.sol` çš„æ–‡ä»¶ã€‚åœ¨ä½¿ç”¨Hardhatæ—¶ï¼Œæ–‡ä»¶ç»“æ„éå¸¸é‡è¦ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè¦å°å¿ƒ!

æ³¨æ„:æˆ‘æ¨èä¸‹è½½VSCodeçš„[Solidityæ‰©å±•](https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity)ï¼Œå®ƒæä¾›äº†å¾ˆå¥½çš„è¯­æ³•é«˜äº®æ˜¾ç¤ºã€‚

æˆ‘æ€»æ˜¯å–œæ¬¢ä»ä¸€ä¸ªéå¸¸åŸºæœ¬çš„æ™ºèƒ½åˆçº¦å¼€å§‹ï¼Œåªæ˜¯ä¸ºäº†è®©äº‹æƒ…å¼€å§‹ã€‚

```javascript
// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.17;

import "hardhat/console.sol";

contract MyEpicGame {
  constructor() {
    console.log("THIS IS MY GAME CONTRACT. NICE.");
  }
}
```

æ³¨æ„:æœ‰æ—¶VSCodeæœ¬èº«ä¼šæŠ›å‡ºå®é™…ä¸Šä¸æ˜¯é—®é¢˜çš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½åœ¨Hardhatå¯¼å…¥ä¸‹é¢åŠ ä¸‹åˆ’çº¿ï¼Œå¹¶è¡¨ç¤ºå®ƒä¸å­˜åœ¨ã€‚å‘ç”Ÿè¿™äº›æƒ…å†µæ˜¯å› ä¸ºæ‚¨çš„å…¨å±€Solidityç¼–è¯‘å™¨æ²¡æœ‰åœ¨æœ¬åœ°è®¾ç½®ã€‚å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸è¦æ‹…å¿ƒã€‚æš‚æ—¶å¿½ç•¥è¿™ä¸€ç‚¹ã€‚å¦å¤–ï¼Œæˆ‘å»ºè®®ä½ ä¸è¦ä½¿ç”¨VSCodeçš„ç»ˆç«¯ï¼Œä½¿ç”¨ä½ è‡ªå·±çš„ç‹¬ç«‹ç»ˆç«¯!å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰è®¾ç½®ï¼ŒVSCodeç»ˆç«¯æœ‰æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚

è®©æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œåœ°çœ‹ã€‚

```javascript
// SPDX-License-Identifier: UNLICENSED
```

åªæ˜¯ä¸€ä¸ªèŠ±å“¨çš„è¯„è®ºã€‚å®ƒè¢«ç§°ä¸ºâ€œSPDXè®¸å¯è¯æ ‡è¯†ç¬¦â€ï¼Œå¯ä»¥è‡ªç”±è°·æ­Œå®ƒæ˜¯ä»€ä¹ˆ:)ã€‚

```javascript
pragma solidity ^0.8.17;
```

This is the version of the Solidity compiler we want our contract to use. It basically says "when running this, I only want to use version 0.8.17 of the Solidity compiler, nothing lower. Note, be sure your compiler is set to 0.8.17 inÂ `hardhat.config.js`.

è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›æ™ºèƒ½åˆçº¦ä½¿ç”¨çš„Solidityç¼–è¯‘å™¨çš„ç‰ˆæœ¬ã€‚å®ƒåŸºæœ¬ä¸Šæ˜¯è¯´:â€œå½“è¿è¡Œè¿™ä¸ªæ—¶ï¼Œæˆ‘åªæƒ³ä½¿ç”¨Solidityç¼–è¯‘å™¨çš„0.8.17ç‰ˆæœ¬ï¼Œä¸è¦æ›´ä½ã€‚æ³¨æ„ï¼Œç¡®ä¿ä½ çš„ç¼–è¯‘å™¨åœ¨`hardhat.config.js`ä¸­è®¾ç½®ä¸º0.8.17ã€‚

```javascript
import "hardhat/console.sol";
```

Hardhatå…è®¸æˆ‘ä»¬åœ¨æ™ºèƒ½åˆçº¦ä¸­åšä¸€äº›æ§åˆ¶å°æ—¥å¿—ã€‚å®é™…ä¸Šï¼Œè°ƒè¯•æ™ºèƒ½åˆçº¦å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†è¿™æ˜¯Hardhatæä¾›ç»™æˆ‘ä»¬çš„å¥½å¤„ä¹‹ä¸€ï¼Œä½¿å·¥ä½œæ›´å®¹æ˜“ã€‚

```javascript
contract MyEpicGame {
    constructor() {
        console.log("THIS IS MY GAME CONTRACT. NICE.");
    }
}
```

æ‰€ä»¥ï¼Œæ™ºèƒ½åˆçº¦æœ‰ç‚¹åƒå…¶ä»–è¯­è¨€ä¸­çš„ `class` ï¼Œå¦‚æœä½ è§è¿‡çš„è¯!ä¸€æ—¦æˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆå§‹åŒ–è¿™ä¸ªæ™ºèƒ½åˆçº¦ï¼Œæ„é€ å‡½æ•°å°±ä¼šè¿è¡Œå¹¶æ‰“å°å‡ºè¿™ä¸€è¡Œã€‚è¯·è®©è¿™æ¡çº¿è¯´ä½ æƒ³è¯´çš„ã€‚å¸Œæœ›ä½ ç©å¾—å¼€å¿ƒç‚¹ã€‚

### ğŸ˜²Â æˆ‘ä»¬å¦‚ä½•è¿ä½œå®ƒ?

å¤ªæ£’äº†â€”â€”æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ™ºèƒ½åˆçº¦!ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å®ƒæ˜¯å¦æœ‰æ•ˆã€‚æˆ‘ä»¬å®é™…ä¸Šéœ€è¦:

1. ç¼–è¯‘å®ƒã€‚
2. å°†å®ƒéƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾ã€‚
3. ä¸€æ—¦å®ƒéƒ¨ç½²äº†ï¼Œconsole.logå°±ä¼šè¿è¡Œã€‚

æˆ‘ä»¬åªéœ€è¦ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬æ¥ä¸ºæˆ‘ä»¬å¤„ç†è¿™ä¸‰ä¸ªæ­¥éª¤ã€‚

è¿›å…¥ `scripts` ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`run.js`çš„æ–‡ä»¶ã€‚è¿™æ˜¯`run.js`çš„å†…å®¹:

```javascript
const main = async () => {
  const gameContractFactory = await hre.ethers.getContractFactory('MyEpicGame');
  const gameContract = await gameContractFactory.deploy();
  await gameContract.deployed();
  console.log("Contract deployed to:", gameContract.address);
};

const runMain = async () => {
  try {
    await main();
    process.exit(0);
  } catch (error) {
    console.log(error);
    process.exit(1);
  }
};

runMain();
```

`run.js`æ˜¯æˆ‘ä»¬æµ‹è¯•æ™ºèƒ½åˆçº¦çš„æ¸¸ä¹åœº!

### ğŸ¤”Â å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„?

**æ³¨æ„:VSCodeå¯èƒ½ä¼šè‡ªåŠ¨å¯¼å…¥ethersã€‚æˆ‘ä»¬ä¸éœ€è¦è¿›å£ ethersä¹‹ç±»çš„ä¸œè¥¿ã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿æ²¡æœ‰å¯¼å…¥ä»»ä½•å†…å®¹ã€‚**

è¿˜æ˜¯ä¸€è¡Œä¸€è¡Œçš„çœ‹ã€‚

```javascript
const gameContractFactory = await hre.ethers.getContractFactory('MyEpicGame');
```

è¿™å®é™…ä¸Šå°†ç¼–è¯‘æˆ‘ä»¬çš„åˆåŒï¼Œå¹¶åœ¨ `artifacts` ç›®å½•ä¸‹ç”Ÿæˆæˆ‘ä»¬ä½¿ç”¨æ™ºèƒ½åˆçº¦æ‰€éœ€çš„å¿…è¦æ–‡ä»¶ã€‚åœ¨ä½ è¿è¡Œè¿™ä¸ªä¹‹åå»çœ‹çœ‹å§:)ã€‚

```javascript
const gameContract = await gameContractFactory.deploy();
```

è¿™æ˜¯ç›¸å½“å¥‡ç‰¹çš„:)ã€‚

ç°åœ¨çš„æƒ…å†µæ˜¯ï¼ŒHardhatå°†ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»¥å¤ªåŠç½‘ç»œï¼Œä½†åªæ˜¯ä¸ºäº†è¿™ä¸ªæ™ºèƒ½åˆçº¦ã€‚ç„¶åï¼Œè„šæœ¬å®Œæˆåï¼Œå®ƒä¼šç ´åæœ¬åœ°ç½‘ç»œã€‚æ¯æ¬¡è¿è¡Œåˆçº¦æ—¶ï¼Œå®ƒéƒ½æ˜¯ä¸€ä¸ªæ–°çš„åŒºå—é“¾ã€‚è¿™æœ‰ä»€ä¹ˆæ„ä¹‰?è¿™æœ‰ç‚¹åƒæ¯æ¬¡åˆ·æ–°ä½ çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä½ æ€»æ˜¯ä»å¤´å¼€å§‹ï¼Œè¿™ä½¿å¾—è°ƒè¯•é”™è¯¯å¾ˆå®¹æ˜“ã€‚

```javascript
await gameContract.deployed();
```

æˆ‘ä»¬è¦ç­‰åˆ°æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦è¢«æ­£å¼æŒ–æ˜å¹¶éƒ¨ç½²åˆ°æˆ‘ä»¬å½“åœ°çš„åŒºå—é“¾!æ²¡é”™ï¼ŒHardhatå®é™…ä¸Šåœ¨æ‚¨çš„æœºå™¨ä¸Šåˆ›å»ºäº†å‡çš„â€œçŸ¿å·¥â€ï¼Œä»¥å°½åŠ›æ¨¡ä»¿å®é™…çš„åŒºå—é“¾ã€‚

æˆ‘ä»¬çš„`constructor`æ„é€ å‡½æ•°åœ¨æˆ‘ä»¬å®é™…å®Œå…¨éƒ¨ç½²æ—¶è¿è¡Œ!

```javascript
console.log("Contract deployed to:", gameContract.address);
```

æœ€åï¼Œä¸€æ—¦å®ƒå®Œæˆäº†éƒ¨ç½²äº†ï¼Œ `gameContract.address`ä¼šè¿”å›ç»™æˆ‘ä»¬éƒ¨ç½²æ™ºèƒ½åˆçº¦çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€å°±æ˜¯æˆ‘ä»¬åœ¨åŒºå—é“¾ä¸Šæ‰¾åˆ°æ™ºèƒ½åˆçº¦çš„åœ°æ–¹ã€‚ç°åœ¨æˆ‘ä»¬æœ¬åœ°çš„åŒºå—é“¾åªæœ‰æˆ‘ä»¬ã€‚è¿™å¹¶ä¸æ˜¯å¾ˆé…·ã€‚

ä½†æ˜¯ï¼Œåœ¨å®é™…çš„åŒºå—é“¾ä¸Šæœ‰æ•°ç™¾ä¸‡çš„æ™ºèƒ½åˆçº¦ã€‚å› æ­¤ï¼Œè¿™ä¸ªåœ°å€ä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è®¿é—®æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ™ºèƒ½åˆçº¦!å½“æˆ‘ä»¬åœ¨åé¢å‡ èŠ‚è¯¾ä¸­éƒ¨ç½²åˆ°å®é™…çš„åŒºå—é“¾æ—¶ï¼Œè¿™å°†æ´¾ä¸Šç”¨åœºã€‚

### ğŸ’¨Â è¿è¡Œå®ƒ

åœ¨ä½ è¿è¡Œè¿™ä¸ªä¹‹å‰ï¼Œä¸€å®šè¦åœ¨ä½ çš„`hardhat.config.js`ä¸­æŠŠ `solidity: "0.8.4",`  æ”¹ä¸º `solidity: "0.8.17",` ã€‚

è®©æˆ‘ä»¬è¿è¡Œå®ƒ!æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œ:

```javascript
npx hardhat run scripts/run.js
```

ä½ åº”è¯¥çœ‹åˆ°ä½ çš„ `console.log` åœ¨æ™ºèƒ½åˆçº¦ä¸­è¿è¡Œï¼Œç„¶åä½ ä¹Ÿåº”è¯¥çœ‹åˆ°åˆçº¦åœ°å€æ‰“å°å‡ºæ¥!!


### ğŸ©Â Hardhat & HRE

åœ¨è¿™äº›ä»£ç å—ä¸­ï¼Œä½ ä¼šç»å¸¸æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº†`hre.ethers`,ä½† `hre` ä»æ¥æ²¡æœ‰è¾“å…¥è¿‡ä»»ä½•åœ°æ–¹?è¿™æ˜¯ä»€ä¹ˆå·«æœ¯?

ç›´æ¥ä»Hardhatæ–‡æ¡£ä¸­ï¼Œä½ ä¼šæ³¨æ„åˆ°:

> Hardhatè¿è¡Œæ—¶ç¯å¢ƒï¼Œç®€ç§°HREï¼Œæ˜¯ä¸€ä¸ªåŒ…å«Hardhatåœ¨è¿è¡Œä»»åŠ¡ã€æµ‹è¯•æˆ–è„šæœ¬æ—¶å…¬å¼€çš„æ‰€æœ‰åŠŸèƒ½çš„å¯¹è±¡ã€‚å®é™…ä¸Šï¼ŒHardhatå°±æ˜¯HREã€‚
> 

So what does this mean? Every time you run a terminal command that starts withÂ `npx hardhat`Â you are getting thisÂ `hre`Â object built on the fly using theÂ `hardhat.config.js`Â specified in your code! This means you will never have to actually do some sort of import into your files like:

è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢?æ¯æ¬¡ä½ è¿è¡Œä¸€ä¸ªä»¥ `npx hardhat` å¼€å¤´çš„ç»ˆç«¯å‘½ä»¤æ—¶ï¼Œä½ éƒ½åœ¨ä½¿ç”¨ä½ çš„ä»£ç ä¸­æŒ‡å®šçš„ `hardhat.config.js` åŠ¨æ€æ„å»ºè¿™ä¸ª' `hre` å¯¹è±¡!è¿™æ„å‘³ç€ä½ æ°¸è¿œä¸éœ€è¦åœ¨ä½ çš„æ–‡ä»¶ä¸­æ‰§è¡Œå¦‚ä¸‹çš„å¯¼å…¥æ“ä½œ:

`const hardhat = require("hardhat")`

**TL;DR -ä½ ä¼šåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­çœ‹åˆ°å¾ˆå¤šâ€œ`hre` ï¼Œä½†ä»æ¥æ²¡æœ‰å¯¼å…¥è¿‡ä»»ä½•åœ°æ–¹!æŸ¥çœ‹[Hardhatæ–‡æ¡£](https://hardhat.org/advanced/hardhat-runtime-environment.html)äº†è§£æ›´å¤šä¿¡æ¯!**

### ğŸš¨Â è¿›åº¦æŠ¥å‘Š!

åœ¨Discordä¸­çš„#progressä¸­å‘å¸ƒä¸€ä¸ªæˆªå›¾ï¼Œå°†`npx hardhat run scripts/run.js` çš„è¾“å‡ºç»“æœå‘å‡ºå»:)ã€‚
